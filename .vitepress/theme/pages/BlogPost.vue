<template>
  <div>
    <content-container>
      <article>
        <header>
          <!-- Heading -->
          <div class="ml-0 xl:ml-32 max-w-prose mt-32">
            <h1 class="text-7xl text-zinc-700 font-normal">{{ data.title }}</h1>
            <p class="mt-5 text-2xl text-zinc-500">{{ data.lead }}</p>
            <dl class="mt-5">
              <dt class="sr-only">Date:</dt>
              <dd class="text-zinc-500 flex flex-row items-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="text-zinc-600 fill-current h-6"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  version="1.1"
                  x="0px"
                  y="0px"
                  viewBox="0 0 100 100"
                  style="enable-background: new 0 0 100 100"
                  xml:space="preserve"
                >
                  <path
                    d="M10,89c0,0.5522461,0.4477539,1,1,1h78c0.5522461,0,1-0.4477539,1-1V19.1328125c0-0.5522461-0.4477539-1-1-1h-9.5351562V11  c0-0.5522461-0.4477539-1-1-1s-1,0.4477539-1,1v7.1328125H60.4882812V11c0-0.5522461-0.4477539-1-1-1s-1,0.4477539-1,1v7.1328125  H41.5117188V11c0-0.5522461-0.4477539-1-1-1s-1,0.4477539-1,1v7.1328125H22.5351562V11c0-0.5522461-0.4477539-1-1-1  s-1,0.4477539-1,1v7.1328125H11c-0.5522461,0-1,0.4477539-1,1V89z M12,20.1328125h8.5351562v4.7124023c0,0.5522461,0.4477539,1,1,1  s1-0.4477539,1-1v-4.7124023h16.9765625v4.7124023c0,0.5522461,0.4477539,1,1,1s1-0.4477539,1-1v-4.7124023h16.9765625v4.7124023  c0,0.5522461,0.4477539,1,1,1s1-0.4477539,1-1v-4.7124023h16.9765625v4.7124023c0,0.5522461,0.4477539,1,1,1s1-0.4477539,1-1  v-4.7124023H88V88H12V20.1328125z"
                  ></path>
                  <path
                    d="M46.9003906,34.4384766H36.8735352c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S47.4526367,34.4384766,46.9003906,34.4384766z"
                  ></path>
                  <path
                    d="M63.1264648,34.4384766H53.0996094c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S63.6787109,34.4384766,63.1264648,34.4384766z"
                  ></path>
                  <path
                    d="M79.3520508,34.4384766H69.3251953c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S79.9042969,34.4384766,79.3520508,34.4384766z"
                  ></path>
                  <path
                    d="M30.6748047,46.8569336H20.6479492c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S31.2270508,46.8569336,30.6748047,46.8569336z"
                  ></path>
                  <path
                    d="M46.9003906,46.8569336H36.8735352c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S47.4526367,46.8569336,46.9003906,46.8569336z"
                  ></path>
                  <path
                    d="M63.1264648,46.8569336H53.0996094c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S63.6787109,46.8569336,63.1264648,46.8569336z"
                  ></path>
                  <path
                    d="M79.3520508,46.8569336H69.3251953c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S79.9042969,46.8569336,79.3520508,46.8569336z"
                  ></path>
                  <path
                    d="M30.6748047,59.2758789H20.6479492c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S31.2270508,59.2758789,30.6748047,59.2758789z"
                  ></path>
                  <path
                    d="M46.9003906,59.2758789H36.8735352c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S47.4526367,59.2758789,46.9003906,59.2758789z"
                  ></path>
                  <path
                    d="M63.1264648,59.2758789H53.0996094c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S63.6787109,59.2758789,63.1264648,59.2758789z"
                  ></path>
                  <path
                    d="M79.3520508,59.2758789H69.3251953c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S79.9042969,59.2758789,79.3520508,59.2758789z"
                  ></path>
                  <path
                    d="M30.6748047,71.6943359H20.6479492c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S31.2270508,71.6943359,30.6748047,71.6943359z"
                  ></path>
                  <path
                    d="M46.9003906,71.6943359H36.8735352c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S47.4526367,71.6943359,46.9003906,71.6943359z"
                  ></path>
                  <path
                    d="M63.1264648,71.6943359H53.0996094c-0.5522461,0-1,0.4477539-1,1s0.4477539,1,1,1h10.0268555c0.5522461,0,1-0.4477539,1-1  S63.6787109,71.6943359,63.1264648,71.6943359z"
                  ></path>
                </svg>
                <span class="ml-2 text-base">
                  {{ date.string }}
                </span>
              </dd>
            </dl>
          </div>
          <!-- Summary -->
        </header>

        <!-- Content
        <div class="mx-auto prose prose-lg prose-zinc prose-h2:font-medium">
          <content />
        </div>
        -->
        <div class="xl:ml-32 article">
          <content />
        </div>
      </article>
    </content-container>
  </div>
</template>

<script lang="ts">
import { defineComponent, computed } from 'vue';
import { useData } from 'vitepress';

// Components
import ContentContainer from '../components/ui/ContentContainer.vue';

export default defineComponent({
  components: {
    ContentContainer,
  },
  setup() {
    const { frontmatter: data } = useData();

    const date = formatDate(data.value.date);

    return { data, date };
  },
});

function formatDate(date) {
  if (!(date instanceof Date)) {
    date = new Date(date);
  }
  date.setUTCHours(12);
  return {
    time: +date,
    string: date.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
    }),
  };
}
</script>
